# –¢–µ—Å—Ç-–∫–µ–π—Å—ã SSO ‚Äî –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä (56 —Ç–µ—Å—Ç–æ–≤)

---

## üü¢ –ë–ê–ó–û–í–´–ï –ü–û–ó–ò–¢–ò–í–ù–´–ï –°–¶–ï–ù–ê–†–ò–ò (smoke-—Ç–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)
### –ü—Ä–æ–≤–µ—Ä—è—é—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±–∞–∑–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

| ID   | –ù–∞–∑–≤–∞–Ω–∏–µ                | Setup (–∫—Ä–∞—Ç–∫–æ)                    | Request (endpoint + payload)                 | Expected (–∫–ª—é—á–µ–≤–æ–µ)                                                                       | Actual      | Verdict |
|------|-------------------------|-----------------------------------|----------------------------------------------|-------------------------------------------------------------------------------------------|------------|---------|
| T-01 | Register new user       | env up, APP_ID —Å–æ–∑–¥–∞–Ω             | Auth/Register `{username, password}`         | `user_id` –≤ –æ—Ç–≤–µ—Ç–µ, –∑–∞–ø–∏—Å—å –≤ `users`, –∫–æ–¥ `OK (0)`                                        | OK, –∫–æ–¥ `0`| Pass    |
| T-02 | Login existing user     | user —Å–æ–∑–¥–∞–Ω, APP_ID –∏–∑–≤–µ—Å—Ç–µ–Ω      | Auth/Login `{app_id, username, password}`    | `access_token`, `refresh_token` –≤ –æ—Ç–≤–µ—Ç–µ, –∫–æ–¥ `OK (0)`                                    | OK, –∫–æ–¥ `0`| Pass    |
| T-03 | Check admin flag        | admin user –≤ –ë–î, –µ–≥–æ `user_id`    | Auth/IsAdmin `{user_id}`                     | `is_admin = true`, –∫–æ–¥ `OK (0)`                                                           | OK, –∫–æ–¥ `0`| Pass    |
| T-04 | Get public key by app   | APP_ID —Å–æ–∑–¥–∞–Ω                     | Auth/GetPublicKey `{app_id}`                 | `public_key` –Ω–µ –ø—É—Å—Ç–æ–π PEM‚Äë–±–ª–æ–∫, –∫–æ–¥ `OK (0)`                                             | OK, –∫–æ–¥ `0`| Pass    |
| T-05 | Refresh tokens          | –≤–∞–ª–∏–¥–Ω—ã–π `refresh_token` –∏–∑ Login | Auth/Refresh `{refresh_token}`               | –Ω–æ–≤—ã–µ `access`/`refresh` –≤ –æ—Ç–≤–µ—Ç–µ, –∫–æ–¥ `OK (0)`                                           | OK, –∫–æ–¥ `0`| Pass    |
| T-06 | Logout by refresh token | –≤–∞–ª–∏–¥–Ω—ã–π `refresh_token` –∏–∑ Login | Auth/Logout `{refresh_token}`                | `success = true` –≤ –æ—Ç–≤–µ—Ç–µ, `refresh_token` –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–æ–∑–≤–∞–Ω–Ω—ã–π, –∫–æ–¥ `OK (0)`        | OK, –∫–æ–¥ `0`| Pass    |

---

## üî¥ –ì–†–ê–ù–ò–ß–ù–´–ï –ò –ù–ï–ì–ê–¢–ò–í–ù–´–ï –°–¶–ï–ù–ê–†–ò–ò (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –æ—à–∏–±–æ–∫)

### Register ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è (T-07‚ÄìT-25)

| ID    | –ù–∞–∑–≤–∞–Ω–∏–µ                                               | Setup (–∫—Ä–∞—Ç–∫–æ)                | Request (endpoint + payload)                                                                                                                     | Expected (–∫–ª—é—á–µ–≤–æ–µ)                                                                       | Actual | Verdict |
|-------|--------------------------------------------------------|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|--------|---------|
| T-07  | Register min login length                              | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "Tes", "password": "123456Te" }`                                                                                    | –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, `user_id` –≤ –æ—Ç–≤–µ—Ç–µ, –∫–æ–¥ `OK (0)`                                   | OK     | Pass    |
| T-08  | Register max login length                              | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "y1G61dotC4nJSOJzPzxbX2jaDcrHzrI9ZJ2m8ngo1rC4w9liu1", "password": "123456Te" }`                                                   | –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, `user_id` –≤ –æ—Ç–≤–µ—Ç–µ, –∫–æ–¥ `OK (0)`                                   | OK     | Pass    |
| T-09  | Register empty login                                   | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "", "password": "123456Te" }`                                                                                      | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–ø—É—Å—Ç–æ–π), `InvalidArgument (3)`                                 | OK     | Pass    |
| T-10  | Register login length 2 chars                          | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "Te", "password": "123456Te" }`                                                                                    | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–º–µ–Ω—å—à–µ –º–∏–Ω–∏–º—É–º–∞), `InvalidArgument (3)`                        | OK     | Pass    |
| T-11  | Register login length 51 chars                         | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "SUw9y6wHH2mDaMtQlK8kemD8O2ULVbAdhW6gY48sx5bE4PRCdwi", "password": "123456Te" }`                                  | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º—É–º–∞), `InvalidArgument (3)`                       | OK     | Pass    |
| T-12  | Register login with digits only                        | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "1234", "password": "123456Te" }`                                                                                 | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ñ–æ—Ä–º–∞—Ç), `InvalidArgument (3)`                    | OK     | Pass    |
| T-13  | Register login lowercase only                          | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "tester", "password": "123456Te" }`                                                                               | –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, `user_id` –≤ –æ—Ç–≤–µ—Ç–µ, –∫–æ–¥ `OK (0)`                                   | OK     | Pass    |
| T-14  | Register login 1 letter + 4 digits                     | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "t1234", "password": "123456Te" }`                                                                                | –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, `user_id` –≤ –æ—Ç–≤–µ—Ç–µ, –∫–æ–¥ `OK (0)`                                   | OK     | Pass    |
| T-15  | Register login with special characters                 | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "!?‚Ññ%", "password": "123456Te" }`                                                                                 | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (—Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã), `InvalidArgument (3)`                            | OK     | Pass    |
| T-16  | Register login in Russian layout                       | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "–¢–æ—Å—Ç–µ—Ä", "password": "123456Te" }`                                                                               | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–Ω–µ–ª–∞—Ç–∏–Ω–∏—Ü–∞), `InvalidArgument (3)`                             | OK     | Pass    |
| T-17  | Register login with leading space                      | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": " Tester", "password": "123456Te" }`                                                                              | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–ø—Ä–æ–±–µ–ª –≤ –Ω–∞—á–∞–ª–µ), `InvalidArgument (3)`                        | OK     | Pass    |
| T-18  | Register login with middle space                       | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "Tes ter", "password": "123456Te" }`                                                                              | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–ø—Ä–æ–±–µ–ª –≤–Ω—É—Ç—Ä–∏), `InvalidArgument (3)`                          | OK     | Pass    |
| T-19  | Register login with trailing space                     | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "Tester ", "password": "123456Te" }`                                                                              | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–ø—Ä–æ–±–µ–ª –≤ –∫–æ–Ω—Ü–µ), `InvalidArgument (3)`                         | OK     | Pass    |
| T-20  | Register login SQL injection string                    | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "SELECT * FROM users WHERE username = '\" + input + \"';", "password": "123456Te" }`                              | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ –≤–≤–µ–¥–µ–Ω–∏–∏ SQL, `InvalidArgument (3)`, –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞            | OK     | Pass    |
| T-21  | Register existing username                             | env up, APP_ID —Å–æ–∑–¥–∞–Ω, user –µ—Å—Ç—å | Auth/Register `{ "username": "Tester", "password": "123456Te" }`                                                                               | –û—à–∏–±–∫–∞ `ErrExists`, –∫–æ–¥ `6`                                                             | OK     | Pass    |
| T-22  | Register max password length                           | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "Test_1", "password": "qaSPfHW3jDB3uOVOqxF2ykAmmztlzUJo5HUT5SPN2wWHsIQOMJULPFyTdk7PD0wlFC2tUPq8" }`             | –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, `user_id` –≤ –æ—Ç–≤–µ—Ç–µ, –∫–æ–¥ `OK (0)`                                   | OK     | Pass    |
| T-23  | Register password length 7 chars                       | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "Test_2", "password": "123456T" }`                                                                                | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª—è (–º–µ–Ω—å—à–µ –º–∏–Ω–∏–º—É–º–∞), `InvalidArgument (3)`                        | OK     | Pass    |
| T-24  | Register password empty                                | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "Test_5", "password": "" }`                                                                                       | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª—è (–ø—É—Å—Ç–æ–π), `InvalidArgument (3)`                                 | OK     | Pass    |
| T-25  | Register password 73 chars (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)              | env up, APP_ID —Å–æ–∑–¥–∞–Ω         | Auth/Register `{ "username": "Test_2", "password": "qaSPfHW3jDB3uOVOqxF2ykAmmztlzUJo5HUT5SPN2wWHsIQOMJULPFyTdk7PD0wlFC2tUPq" }`             | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª—è (–¥–ª–∏–Ω–∞ –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π), `InvalidArgument (3)`              | OK     | Pass    |

### Sign in / Auth/Login ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫ (T-26‚ÄìT-44)

| ID   | –ù–∞–∑–≤–∞–Ω–∏–µ                                                   | Setup (–∫—Ä–∞—Ç–∫–æ)                        | Request (endpoint + payload)                                                                                                                                      | Expected (–∫–ª—é—á–µ–≤–æ–µ)                                                                                                              | Actual | Verdict |
|------|------------------------------------------------------------|---------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|--------|---------|
| T-26 | Sign in existing user                                      | env up, APP_ID –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω—ã | Auth/Login `{ "app_id": 1, "username": "Test_7", "password": "123456Te" }`                                                                                       | –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥, –≤ –æ—Ç–≤–µ—Ç–µ `access_token` –∏ `refresh_token`, –∫–æ–¥ `OK (0)`                                                        | OK     | Pass    |
| T-27 | Sign in wrong app_id                                       | env up, user –µ—Å—Ç—å, `app_id=2` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç | Auth/Login `{ "app_id": 2, "username": "Test_7", "password": "123456Te" }`                                                                                       | –û—à–∏–±–∫–∞ `ErrNotFound (5)` (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω), –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                         | OK     | Pass    |
| T-28 | Sign in app_id = 0                                         | env up, user –µ—Å—Ç—å                     | Auth/Login `{ "app_id": 0, "username": "Test_7", "password": "123456Te" }`                                                                                       | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ app_id `InvalidArgument (3)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                                            | OK     | Pass    |
| T-29 | Sign in wrong password                                     | env up, user –µ—Å—Ç—å                     | Auth/Login `{ "app_id": 1, "username": "Test_7", "password": "123456666" }`                                                                                      | –û—à–∏–±–∫–∞ `ErrInvalidCredentials (16)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, —Ç–æ–∫–µ–Ω—ã –Ω–µ –≤—ã–¥–∞—é—Ç—Å—è                                                  | OK     | Pass    |
| T-30 | Sign in wrong username                                     | env up, —Ç–∞–∫–æ–≥–æ username –Ω–µ—Ç           | Auth/Login `{ "app_id": 1, "username": "Test_77", "password": "123456Te" }`                                                                                      | –û—à–∏–±–∫–∞ `ErrNotFound (5)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                                                                 | OK     | Pass    |
| T-31 | Sign in empty username                                     | env up, APP_ID —Å–æ–∑–¥–∞–Ω                 | Auth/Login `{ "app_id": 1, "username": "", "password": "123456Te" }`                                                                                              | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ `InvalidArgument (3)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                                            | OK     | Pass    |
| T-32 | Sign in numeric username                                   | env up, APP_ID —Å–æ–∑–¥–∞–Ω                 | Auth/Login `{ "app_id": 1, "username": "1234567", "password": "123456Te" }`                                                                                       | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (—Ü–∏—Ñ—Ä–æ–≤–æ–π –ª–æ–≥–∏–Ω –∑–∞–ø—Ä–µ—â—ë–Ω), `InvalidArgument (3)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                 | OK     | Pass    |
| T-33 | Sign in username with special chars                        | env up, APP_ID —Å–æ–∑–¥–∞–Ω                 | Auth/Login `{ "app_id": 1, "username": "!‚Ññ;%:?", "password": "123456Te" }`                                                                                        | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (—Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã), `InvalidArgument (3)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                   | OK     | Pass    |
| T-34 | Sign in username length = min                              | env up, APP_ID —Å–æ–∑–¥–∞–Ω                 | Auth/Login `{ "app_id": 1, "username": "Tes", "password": "123456Te" }`                                                                                           | –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥, `access_token` –∏ `refresh_token`, –∫–æ–¥ `OK (0)`                                                                 | OK     | Pass    |
| T-35 | Sign in username length = max                              | env up, APP_ID —Å–æ–∑–¥–∞–Ω                 | Auth/Login `{ "app_id": 1, "username": "y1G61dotC4nJSOJzPzxbX2jaDcrHzrI9ZJ2m8ngo1rC4w9liu1", "password": "123456Te" }`                                            | –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥, `access_token` –∏ `refresh_token`, –∫–æ–¥ `OK (0)`                                                                 | OK     | Pass    |
| T-36 | Sign in username SQL injection                             | env up, APP_ID —Å–æ–∑–¥–∞–Ω                 | Auth/Login `{ "app_id": 1, "username": "admin' OR '1'='1", "password": "123456Te" }`                                                                              | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ –≤–≤–µ–¥–µ–Ω–∏–∏ SQL, `InvalidArgument (3)`, –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                            | OK     | Pass    |
| T-37 | Sign in wrong password, short (7 chars)                    | env up, APP_ID –∏ user —Å–æ–∑–¥–∞–Ω—ã         | Auth/Login `{ "app_id": 1, "username": "Test_7", "password": "123456T" }`                                                                                         | –û—à–∏–±–∫–∞ `ErrInvalidCredentials (16)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                                                      | OK     | Pass    |
| T-38 | Sign in password empty                                     | env up, APP_ID –∏ user —Å–æ–∑–¥–∞–Ω—ã         | Auth/Login `{ "app_id": 1, "username": "Test_1", "password": "" }`                                                                                                | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª—è `InvalidArgument (3)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                                            | OK     | Pass    |
| T-39 | Sign in password very long (> max)                         | env up, APP_ID –∏ user —Å–æ–∑–¥–∞–Ω—ã         | Auth/Login `{ "app_id": 1, "username": "Test_1", "password": "YLO1cHBex73GxUaY07bbJZi4sGdiPF9fJLNb8iJ5AvKlvVMIN32qu5I10nqNIdrmQNGqSncD8" }`                       | –û—à–∏–±–∫–∞ `ErrInvalidCredentials (16)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, —Ç–æ–∫–µ–Ω—ã –Ω–µ –≤—ã–¥–∞—é—Ç—Å—è                                                  | OK     | Pass    |
| T-40 | Sign in password valid, length = 72                        | env up, APP_ID –∏ user —Å–æ–∑–¥–∞–Ω—ã         | Auth/Login `{ "app_id": 1, "username": "Test_1", "password": "qaSPfHW3jDB3uOVOqxF2ykAmmztlzUJo5HUT5SPN2wWHsIQOMJULPFyTdk7PD0wlFC2tUPq8" }`                       | –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥, `access_token` –∏ `refresh_token`, –∫–æ–¥ `OK (0)`                                                                 | OK     | Pass    |
| T-41 | Sign in wrong password 5+ times (bruteforce –ø–æ–ø—ã—Ç–∫–∞)       | env up, APP_ID –∏ user —Å–æ–∑–¥–∞–Ω—ã         | –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–π Auth/Login —Å `{ "app_id": 1, "username": "Tester", "password": "123456Tes" }` (5 –∏ –±–æ–ª–µ–µ —Ä–∞–∑)                                                        | –ù–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ `ErrInvalidCredentials (16)`, —Ç–æ–∫–µ–Ω—ã –Ω–µ –≤—ã–¥–∞—é—Ç—Å—è                                        | OK     | Pass    |
| T-42 | Sign in username with leading space                        | env up, APP_ID –∏ user —Å–æ–∑–¥–∞–Ω—ã         | Auth/Login `{ "app_id": 1, "username": " Tester", "password": "123456Te" }`                                                                                        | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–ø—Ä–æ–±–µ–ª –≤ –Ω–∞—á–∞–ª–µ), `InvalidArgument (3)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                        | OK     | Pass    |
| T-43 | Sign in username with middle space                         | env up, APP_ID –∏ user —Å–æ–∑–¥–∞–Ω—ã         | Auth/Login `{ "app_id": 1, "username": "Tes ter", "password": "123456Te" }`                                                                                        | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–ø—Ä–æ–±–µ–ª –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ), `InvalidArgument (3)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                      | OK     | Pass    |
| T-44 | Sign in username with trailing space                       | env up, APP_ID –∏ user —Å–æ–∑–¥–∞–Ω—ã         | Auth/Login `{ "app_id": 1, "username": "Tester ", "password": "123456Te" }`                                                                                        | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª–æ–≥–∏–Ω–∞ (–ø—Ä–æ–±–µ–ª –≤ –∫–æ–Ω—Ü–µ), `InvalidArgument (3)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è                                         | OK     | Pass    |

### IsAdmin ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (T-45‚ÄìT-48)

| ID   | –ù–∞–∑–≤–∞–Ω–∏–µ                                           | Setup (–∫—Ä–∞—Ç–∫–æ)                            | Request (endpoint + payload)        | Expected (–∫–ª—é—á–µ–≤–æ–µ)                                                                                                                   | Actual | Verdict |
|------|----------------------------------------------------|-----------------------------------------|-------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------|--------|---------|
| T-45 | Admin check with valid admin user_id               | env up, –≤ –ë–î –µ—Å—Ç—å admin‚Äë–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å     | Auth/IsAdmin `{ "user_id": 1 }`    | –í –æ—Ç–≤–µ—Ç–µ `is_admin = true`, –∫–æ–¥ `OK (0)`                                                                                              | OK     | Pass    |
| T-46 | Admin check with regular (non‚Äëadmin) user_id       | env up, –≤ –ë–î –µ—Å—Ç—å –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å id=16 | Auth/IsAdmin `{ "user_id": 16 }` | –û—à–∏–±–∫–∞ `PERMISSION_DENIED (7) / Access denied`: –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∞–¥–º–∏–Ω‚Äë–¥–æ—Å—Ç—É–ø –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è, `is_admin` –Ω–µ true | OK     | Pass    |
| T-47 | Admin check with non‚Äëexistent user_id              | env up, user_id 100 –≤ –ë–î –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç    | Auth/IsAdmin `{ "user_id": 100 }` | –û—à–∏–±–∫–∞ `ErrNotFound (5)`, –∑–∞–ø–∏—Å—å –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞                                                                            | OK     | Pass    |
| T-48 | Admin check with user_id = 0                       | env up                                   | Auth/IsAdmin `{ "user_id": 0 }`    | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `InvalidArgument (3)` (user_id –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 0)                                                                     | OK     | Pass    |

### Refresh tokens ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (T-49‚ÄìT-52)

| ID   | –ù–∞–∑–≤–∞–Ω–∏–µ                                                            | Setup (–∫—Ä–∞—Ç–∫–æ)                    | Request (endpoint + payload)                                                                                                                                                                                                 | Expected (–∫–ª—é—á–µ–≤–æ–µ)                                                                                                      | Actual | Verdict |
|------|---------------------------------------------------------------------|-----------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|--------|---------|
| T-49 | Refresh tokens (valid token)                                        | env up, APP_ID —Å–æ–∑–¥–∞–Ω, –µ—Å—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π refresh_token | Auth/Refresh `{ "refresh_token": "<–≤–∞–ª–∏–¥–Ω—ã–π refresh>" }`                                                                                                                                                                    | –í –æ—Ç–≤–µ—Ç–µ –Ω–æ–≤—ã–µ `access_token` –∏ `refresh_token`, –∫–æ–¥ `OK (0)`                                                            | OK     | Pass    |
| T-50 | Refresh tokens (non‚Äëexistent / random token)                        | env up, APP_ID —Å–æ–∑–¥–∞–Ω             | Auth/Refresh `{ "refresh_token": "<–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π/–ø–æ–¥–¥–µ–ª–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω>" }`                                                                                                                                                    | –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–∑–±–æ—Ä–µ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ç–æ–∫–µ–Ω–∞ `ErrParse (3)`, –≤—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã –Ω–µ –≤—ã–¥–∞—é—Ç—Å—è                    | OK     | Pass    |
| T-51 | Refresh tokens (empty field)                                        | env up, APP_ID —Å–æ–∑–¥–∞–Ω             | Auth/Refresh `{ "refresh_token": "" }`                                                                                                                                                                                       | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—è `refresh_token`, `InvalidArgument (3)`, –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã –Ω–µ –≤—ã–¥–∞—é—Ç—Å—è                                  | OK     | Pass    |
| T-52 | Refresh tokens with token used after Logout                         | env up, APP_ID —Å–æ–∑–¥–∞–Ω, –≤—ã–ø–æ–ª–Ω–µ–Ω Logout —ç—Ç–∏–º —Ç–æ–∫–µ–Ω–æ–º | Auth/Refresh `{ "refresh_token": "<refresh –ø–æ—Å–ª–µ Logout>" }`                                                                                                                                                                | –û—à–∏–±–∫–∞ `ErrTokenRevoked (16)`, —Ç–æ–∫–µ–Ω—ã –Ω–µ –≤—ã–¥–∞—é—Ç—Å—è                                                                       | OK     | Pass    |

### Logout ‚Äî –æ—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–∞ (T-53)

| ID   | –ù–∞–∑–≤–∞–Ω–∏–µ                         | Setup (–∫—Ä–∞—Ç–∫–æ)                            | Request (endpoint + payload)                                                                                                      | Expected (–∫–ª—é—á–µ–≤–æ–µ)                                                                              | Actual | Verdict |
|------|----------------------------------|-------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|--------|---------|
| T-53 | Logout with valid refresh token  | env up, APP_ID —Å–æ–∑–¥–∞–Ω, –µ—Å—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π refresh_token | Auth/Logout `{ "refresh_token": "<–≤–∞–ª–∏–¥–Ω—ã–π refresh>" }`                                                                          | –í –æ—Ç–≤–µ—Ç–µ `success = true`, —Ç–æ–∫–µ–Ω –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ –æ—Ç–æ–∑–≤–∞–Ω–Ω—ã–π, –ø–æ—Å–ª–µ–¥—É—é—â–∏–π Refresh —Å –Ω–∏–º –¥–∞—ë—Ç –æ—à–∏–±–∫—É  | OK     | Pass    |

### GetPublicKey ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ (T-54‚ÄìT-56)

| ID   | –ù–∞–∑–≤–∞–Ω–∏–µ                                       | Setup (–∫—Ä–∞—Ç–∫–æ)            | Request (endpoint + payload)                        | Expected (–∫–ª—é—á–µ–≤–æ–µ)                                                                                          | Actual | Verdict |
|------|------------------------------------------------|---------------------------|-----------------------------------------------------|--------------------------------------------------------------------------------------------------------------|--------|---------|
| T-54 | Get public key (valid app_id)                  | env up, APP_ID —Å–æ–∑–¥–∞–Ω     | Auth/GetPublicKey `{ "app_id": 1 }`                | –í –æ—Ç–≤–µ—Ç–µ `public_key` –Ω–µ –ø—É—Å—Ç–æ–π, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π PEM‚Äë–±–ª–æ–∫, –∫–æ–¥ `OK (0)`                                           | OK     | Pass    |
| T-55 | Get public key (wrong app_id, –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)  | env up, app_id=2 –Ω–µ —Å–æ–∑–¥–∞–Ω | Auth/GetPublicKey `{ "app_id": 2 }`                | –û—à–∏–±–∫–∞ `ErrNotFound (5)` (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ), –∫–ª—é—á –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è                                      | OK     | Pass    |
| T-56 | Get public key (app_id = 0)                    | env up                    | Auth/GetPublicKey `{ "app_id": 0 }`                | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `InvalidArgument (3)` (app_id –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 0), –∫–ª—é—á –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è                        | OK     | Pass    |

---

## üìä –°–≤–æ–¥–∫–∞ –ø–æ —Ç–µ—Å—Ç–æ–≤–æ–º—É –ø–æ–∫—Ä—ã—Ç–∏—é

| –†–∞–∑–¥–µ–ª | –î–∏–∞–ø–∞–∑–æ–Ω | –ö–æ–ª‚Äë–≤–æ | –§—É–Ω–∫—Ü–∏—è |
|--------|----------|--------|---------|
| **–ë–∞–∑–æ–≤—ã–µ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ** | T-01‚ÄìT-06 | **6** | Smoke-—Ç–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ |
| Register | T-07‚ÄìT-25 | 19 | –í–∞–ª–∏–¥–∞—Ü–∏—è –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è, –∑–∞—â–∏—Ç–∞ –æ—Ç –∏–Ω—ä–µ–∫—Ü–∏–π, –¥—É–±–ª–∏–∫–∞—Ç—ã |
| Sign in / Login | T-26‚ÄìT-44 | 19 | –í–∞–ª–∏–¥–∞—Ü–∏—è app_id, username, password, –∑–∞—â–∏—Ç–∞ –æ—Ç brute-force |
| IsAdmin | T-45‚ÄìT-48 | 4 | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| Refresh | T-49‚ÄìT-52 | 4 | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤, revoke, –≤–∞–ª–∏–¥–∞—Ü–∏—è |
| Logout | T-53 | 1 | –û—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–∞ |
| GetPublicKey | T-54‚ÄìT-56 | 3 | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ |
| **–ò–¢–û–ì–û** | **T-01‚ÄìT-56** | **56** | –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ SSO —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ |


# Auth Service

Сервис аутентификации и авторизации для распределенной системы на Go.

## Назначение

Обеспечивает централизованную аутентификацию пользователей и управление доступом для всех сервисов системы через gRPC API.

## Основные методы

### Register
- **Назначение**: Регистрация новых пользователей
- **Принимает**: username, password
- **Возвращает**: user_id, статус операции

### Login  
- **Назначение**: Аутентификация пользователя и выдача JWT токена
- **Принимает**: username, password, app_id
- **Возвращает**: JWT токен, предназначенный для конкретного сервиса (app_id)

### IsAdmin
- **Назначение**: Проверка прав администратора
- **Принимает**: user_id
- **Возвращает**: boolean (является ли пользователь администратором)

### AppSalt
- **Назначение**: Предоставление соли для верификации токенов
- **Принимает**: app_id
- **Возвращает**: соль для подписи/проверки JWT токенов

## Принцип работы

### Аутентификация
1. Пользователь проходит аутентификацию через метод Login, указывая app_id целевого сервиса
2. Auth Service генерирует JWT токен, используя соль соответствующего сервиса
3. Токен валиден только для сервиса, указанного в app_id

### Межсервисное взаимодействие
- Каждый сервис при запуске запрашивает свою соль через метод AppSalt
- Сервисы самостоятельно проверяют JWT токены используя полученную соль
- Для проверки прав доступа сервисы обращаются к методу IsAdmin

## Особенности безопасности

- Каждый сервис имеет уникальную соль для подписи токенов
- Права доступа проверяются через отдельный запрос (не хранятся в токене)
- Токены действительны только для конкретных сервисов
- Пароли хранятся в хэшированном виде

